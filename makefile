#######################################################################################
# CONFIGURATION
#######################################################################################

GPP=g++ -Wall -std=c++20 -Iincludes -Iincludes/headers -Iincludes/templates
GSL_LIBS=-lgsl -lgslcblas -lm

EXE=./src/main.exe
SRC=$(wildcard src/*.cpp)
OBJ=$(SRC:.cpp=.o)

#######################################################################################

# Default rule
all: ${EXE}

#######################################################################################

# Compilation
%.o: %.cpp
	${GPP} -c -o $@ $<

#######################################################################################

# Linking
${EXE}: ${OBJ}
	${GPP} -o $@ ${OBJ} ${GSL_LIBS}

#######################################################################################

# Cleanup
clean:
	rm -rf src/*.o ${EXE} auto_*.dat
